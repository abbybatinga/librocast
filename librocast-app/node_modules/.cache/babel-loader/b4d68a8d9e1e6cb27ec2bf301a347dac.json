{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\nimport { auth, db } from './utils/firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nexport const useSignUp = () => {\n  _s();\n\n  const [error, setError] = useState(null);\n  const {\n    dispatch\n  } = useAuthContext();\n\n  const signup = (email, password, displayName) => {\n    setError(null);\n    console.log('signing up....');\n    createUserWithEmailAndPassword(auth, email, password, displayName).then(res => {\n      dispatch({\n        type: 'LOGIN',\n        payload: res.user\n      });\n      console.log('user signed up:', res.user);\n      setDoc(doc(db, 'users', res.user.uid), {\n        email,\n        displayName\n      });\n      window.location.href = '/onboard';\n    }).catch(err => {\n      setError(err.message);\n    });\n  };\n\n  return {\n    error,\n    signup\n  };\n};\n\n_s(useSignUp, \"vwXhj4Sui1pPM0q1ghsaXQ611lI=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"sources":["/Users/kihoonlee/Documents/University of Washington/CSE 403/librocast/librocast-app/src/useSignUp.js"],"names":["useState","useAuthContext","auth","db","createUserWithEmailAndPassword","doc","setDoc","useSignUp","error","setError","dispatch","signup","email","password","displayName","console","log","then","res","type","payload","user","uid","window","location","href","catch","err","message"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,kBAAzB;AACA,SAASC,8BAAT,QAA+C,eAA/C;AACA,SAASC,GAAT,EAAcC,MAAd,QAA4B,oBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAeT,cAAc,EAAnC;;AAGA,QAAMU,MAAM,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,WAAlB,KAAkC;AAC7CL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAZ,IAAAA,8BAA8B,CAACF,IAAD,EAAOU,KAAP,EAAcC,QAAd,EAAwBC,WAAxB,CAA9B,CACKG,IADL,CACWC,GAAD,IAAS;AACXR,MAAAA,QAAQ,CAAC;AAAES,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAA9B,OAAD,CAAR;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BE,GAAG,CAACG,IAAnC;AACAf,MAAAA,MAAM,CAACD,GAAG,CAACF,EAAD,EAAK,OAAL,EAAce,GAAG,CAACG,IAAJ,CAASC,GAAvB,CAAJ,EAAgC;AAClCV,QAAAA,KADkC;AAElCE,QAAAA;AAFkC,OAAhC,CAAN;AAIAS,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,UAAvB;AACH,KATL,EAUKC,KAVL,CAUYC,GAAD,IAAS;AACZlB,MAAAA,QAAQ,CAACkB,GAAG,CAACC,OAAL,CAAR;AACH,KAZL;AAaH,GAhBD;;AAkBA,SAAO;AAAEpB,IAAAA,KAAF;AAASG,IAAAA;AAAT,GAAP;AACH,CAxBM;;GAAMJ,S;UAEYN,c","sourcesContent":["import { useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\"\nimport { auth, db } from './utils/firebase'\nimport { createUserWithEmailAndPassword } from 'firebase/auth'\nimport { doc, setDoc } from 'firebase/firestore'\n\nexport const useSignUp = () => {\n    const [error, setError] = useState(null)\n    const { dispatch } = useAuthContext()\n\n\n    const signup = (email, password, displayName) => {\n        setError(null)\n        console.log('signing up....')\n        createUserWithEmailAndPassword(auth, email, password, displayName)\n            .then((res) => {\n                dispatch({ type: 'LOGIN', payload: res.user})\n                console.log('user signed up:', res.user)\n                setDoc(doc(db, 'users', res.user.uid),{\n                    email,\n                    displayName\n                })\n                window.location.href = '/onboard'\n            })\n            .catch((err) => {\n                setError(err.message)\n            })\n    }\n\n    return { error, signup }\n}"]},"metadata":{},"sourceType":"module"}