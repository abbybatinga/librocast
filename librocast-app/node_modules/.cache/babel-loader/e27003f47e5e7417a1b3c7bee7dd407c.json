{"ast":null,"code":"var _jsxFileName = \"/Users/kihoonlee/Documents/University of Washington/CSE 403/librocast/librocast-app/src/utils/profile/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./profile.css\";\nimport { getAuth } from \"firebase/auth\";\nimport { useState, useEffect } from 'react';\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\nimport { db } from '../../utils/firebase.js'; //import Nav from \"./components/Nav\"\n// User function will receive user properties (username, bio, followers, following, books read)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileWrapper\",\n      children: ProfileInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = Profile;\n\nfunction ProfileInfo() {\n  _s();\n\n  const auth = getAuth();\n  const user = auth.currentUser; // store matching user profile\n\n  const [userProfile, setUserProfile] = useState([]);\n  useEffect(() => {\n    const auth = getAuth();\n    const user = auth.currentUser;\n    const userID = user.uid;\n    const taskColRef = query(collection(db, 'profile'), where(\"__name__\", \"==\", userID));\n    onSnapshot(taskColRef, snapshot => {\n      setUserProfile(snapshot.docs.map(doc => ({\n        id: doc.id,\n        data: doc.data()\n      })));\n    });\n  }, []); // store matching user posts\n\n  const [userPosts, setUserPosts] = useState([]);\n  useEffect(() => {\n    const auth = getAuth();\n    const user = auth.currentUser;\n    const userID = user.uid;\n    const taskColRef = query(collection(db, 'posts'), where(\"user_id\", \"==\", userID));\n    onSnapshot(taskColRef, snapshot => {\n      setUserPosts(snapshot.docs.map(doc => ({\n        id: doc.id,\n        data: doc.data()\n      })));\n    });\n  }, []);\n\n  if (user !== null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: user.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Avid reader of fantasy novels\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), userProfile.map(profile => /*#__PURE__*/_jsxDEV(DisplayProfile, {\n        id: profile.id,\n        bookshelf: profile.data.bookshelf,\n        followers: profile.data.followers,\n        following: profile.data.following,\n        achievements: profile.data.goals_progress,\n        picture: profile.data.picture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), userPosts.map(post => /*#__PURE__*/_jsxDEV(DisplayPost, {\n          book_title: post.data.book_title,\n          contents: post.data.contents,\n          date: post.data.dates,\n          likes: post.data.likes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileInfo\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You ain't logged in pardner!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this);\n  }\n}\n\n_s(ProfileInfo, \"Fk+o05+cNjUUs3W0izAUsdvLVrc=\");\n\n_c2 = ProfileInfo;\n\nfunction DisplayProfile(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(DisplayPicture, {\n      picture: props.picture\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DisplayMetrics, {\n      bookshelf: props.bookshelf,\n      followers: props.followers,\n      following: props.following\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DisplayBookshelf, {\n      bookshelf: props.bookshelf\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_c3 = DisplayProfile;\n\nfunction DisplayPicture(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilePic\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.picture,\n      width: \"130\",\n      height: \"130\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 7\n  }, this);\n}\n\n_c4 = DisplayPicture;\n\nfunction DisplayMetrics(props) {\n  const numFollowers = props.followers.length;\n  const numFollowing = props.following.length;\n  const booksRead = props.bookshelf.size;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"followers\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [numFollowers, \"\\u2003\", numFollowing, \"\\u2003\", booksRead]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Followers\\u2003Following\\u2003Books read\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 7\n  }, this);\n}\n\n_c5 = DisplayMetrics;\n\nfunction DisplayPost(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: props.book_title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: props.contents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1423848167l/22294935.jpg\",\n      width: \"130\",\n      height: \"180\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 7\n  }, this);\n}\n\n_c6 = DisplayPost;\n\nfunction DisplayBookshelf(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bookshelf\",\n    children: [props.bookshelf.forEach((unknown, bookID) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Bookshelf\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1423848167l/22294935.jpg\",\n        width: \"115\",\n        height: \"160\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" Six of Crows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n\n_c7 = DisplayBookshelf;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"ProfileInfo\");\n$RefreshReg$(_c3, \"DisplayProfile\");\n$RefreshReg$(_c4, \"DisplayPicture\");\n$RefreshReg$(_c5, \"DisplayMetrics\");\n$RefreshReg$(_c6, \"DisplayPost\");\n$RefreshReg$(_c7, \"DisplayBookshelf\");","map":{"version":3,"sources":["/Users/kihoonlee/Documents/University of Washington/CSE 403/librocast/librocast-app/src/utils/profile/Profile.js"],"names":["React","getAuth","useState","useEffect","collection","query","where","onSnapshot","db","Profile","ProfileInfo","auth","user","currentUser","userProfile","setUserProfile","userID","uid","taskColRef","snapshot","docs","map","doc","id","data","userPosts","setUserPosts","displayName","profile","bookshelf","followers","following","goals_progress","picture","post","book_title","contents","dates","likes","DisplayProfile","props","DisplayPicture","DisplayMetrics","numFollowers","length","numFollowing","booksRead","size","DisplayPost","DisplayBookshelf","forEach","unknown","bookID"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./profile.css\"\nimport { getAuth } from \"firebase/auth\";\nimport {useState, useEffect} from 'react'\nimport {collection, query, where, onSnapshot} from \"firebase/firestore\"\nimport {db} from '../../utils/firebase.js'\n//import Nav from \"./components/Nav\"\n\n// User function will receive user properties (username, bio, followers, following, books read)\nexport default function Profile(){\n\n  return (\n    <>\n    {/* <Nav/> */}\n      <div className=\"profileWrapper\">\n          {ProfileInfo}\n      </div>\n    </>\n  );\n}\n\nfunction ProfileInfo() {\n    const auth = getAuth();\n    const user = auth.currentUser;\n\n    // store matching user profile\n    const [userProfile, setUserProfile] = useState([])\n\n    useEffect(() => {\n        const auth = getAuth();\n        const user = auth.currentUser;\n        const userID = user.uid;\n        const taskColRef = query(collection(db, 'profile'), where(\"__name__\", \"==\", userID))\n        onSnapshot(taskColRef, (snapshot) => {\n            setUserProfile(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        })\n    },[])\n\n    // store matching user posts\n    const [userPosts, setUserPosts] = useState([])\n\n    useEffect(() => {\n        const auth = getAuth();\n        const user = auth.currentUser;\n        const userID = user.uid;\n        const taskColRef = query(collection(db, 'posts'), where(\"user_id\", \"==\", userID))\n        onSnapshot(taskColRef, (snapshot) => {\n            setUserPosts(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        })\n    },[])\n\n  if (user !== null) {\n    return (\n        <div className=\"profileInfo\">\n          <h1>{user.displayName}</h1>\n          <p>Avid reader of fantasy novels</p>\n            {userProfile.map((profile) => (\n                <DisplayProfile\n                    id={profile.id}\n                    bookshelf={profile.data.bookshelf}\n                    followers={profile.data.followers}\n                    following={profile.data.following}\n                    achievements={profile.data.goals_progress}\n                    picture={profile.data.picture}\n                />\n            ))}\n            <div className=\"posts\">\n                <h2>Posts</h2>\n                {userPosts.map((post) => (\n                    <DisplayPost\n                        book_title={post.data.book_title}\n                        contents={post.data.contents}\n                        date={post.data.dates}\n                        likes={post.data.likes}\n                    />\n                ))}\n            </div>\n\n        </div>\n    );\n  } else {\n    return (\n        <div className=\"profileInfo\">\n          <p>You ain't logged in pardner!</p>\n        </div>\n    );\n  }\n}\nfunction DisplayProfile(props) {\n    return (\n        <div className=\"profile\">\n            <DisplayPicture picture={props.picture}/>\n            <DisplayMetrics\n                bookshelf={props.bookshelf}\n                followers={props.followers}\n                following={props.following}\n            />\n            <DisplayBookshelf bookshelf={props.bookshelf}/>\n        </div>\n\n    );\n}\nfunction DisplayPicture(props) {\n  return (\n      <div className=\"profilePic\">\n        <img\n            src={props.picture}\n            width=\"130\"\n            height=\"130\"\n            alt=\"\"\n        />\n      </div>\n  );\n}\nfunction DisplayMetrics(props) {\n  const numFollowers = props.followers.length\n  const numFollowing = props.following.length\n  const booksRead = props.bookshelf.size\n  return (\n      <div className=\"followers\">\n        <h1>{numFollowers}&emsp;{numFollowing}&emsp;{booksRead}</h1>\n        <p>Followers&emsp;Following&emsp;Books read</p>\n      </div>\n  );\n}\n\nfunction DisplayPost(props){\n  return (\n      <div className=\"post\">\n        <div className=\"postInfo\">\n          <h4>{props.book_title}</h4>\n          <h4>{props.contents}</h4>\n        </div>\n        <img\n            src=\"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1423848167l/22294935.jpg\"\n            width=\"130\"\n            height=\"180\"\n            alt=\"\"\n        />\n      </div>\n  );\n}\n\nfunction DisplayBookshelf(props){\n\n  return (\n    <div className=\"bookshelf\">\n        {props.bookshelf.forEach((unknown, bookID) => (\n            <div className=\"book\"/>\n        ))}\n      <h2>Bookshelf</h2>\n\n      <div className=\"book\">\n        <img\n            src=\"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1423848167l/22294935.jpg\"\n            width=\"115\"\n            height=\"160\"\n            alt=\"\"\n        />\n        <h4> Six of Crows</h4>\n      </div>\n\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}